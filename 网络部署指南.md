# Wonk Chatbot ç½‘ç»œéƒ¨ç½²æŒ‡å—

## ğŸŒ éƒ¨ç½²æ–¹æ¡ˆæ¦‚è§ˆ

### å…è´¹æ–¹æ¡ˆï¼ˆæ¨èæ–°æ‰‹ï¼‰
1. **Railway** - ç®€å•æ˜“ç”¨ï¼Œè‡ªåŠ¨éƒ¨ç½²
2. **Render** - ç¨³å®šå¯é ï¼ŒGitHubé›†æˆ
3. **Heroku** - ç»å…¸é€‰æ‹©ï¼ˆæœ‰å…è´¹é¢åº¦é™åˆ¶ï¼‰

### ä»˜è´¹æ–¹æ¡ˆï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
1. **VPSæœåŠ¡å™¨** - å®Œå…¨æ§åˆ¶ï¼Œæ€§ä»·æ¯”é«˜
2. **äº‘æœåŠ¡å™¨** - é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€AWSç­‰
3. **å®¹å™¨æœåŠ¡** - Dockeréƒ¨ç½²

## ğŸš€ æ–¹æ¡ˆ1ï¼šRailwayéƒ¨ç½²ï¼ˆæœ€ç®€å•ï¼‰

### æ­¥éª¤1ï¼šå‡†å¤‡ä»£ç 
1. å°†é¡¹ç›®ä¸Šä¼ åˆ°GitHub
2. ç¡®ä¿é¡¹ç›®æ ¹ç›®å½•æœ‰ `requirements.txt`

### æ­¥éª¤2ï¼šéƒ¨ç½²åˆ°Railway
1. è®¿é—® [railway.app](https://railway.app)
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•
3. ç‚¹å‡» "New Project" â†’ "Deploy from GitHub repo"
4. é€‰æ‹©ä½ çš„Wonké¡¹ç›®ä»“åº“
5. Railwayä¼šè‡ªåŠ¨æ£€æµ‹Pythoné¡¹ç›®å¹¶éƒ¨ç½²

### æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡
åœ¨Railwayé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
```
FLASK_ENV=production
PORT=5000
```

### æ­¥éª¤4ï¼šè·å–è®¿é—®åœ°å€
éƒ¨ç½²å®Œæˆåï¼ŒRailwayä¼šæä¾›ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ç½‘å€ï¼š
`https://your-project-name.up.railway.app`

## ğŸ”§ æ–¹æ¡ˆ2ï¼šRenderéƒ¨ç½²

### æ­¥éª¤1ï¼šå‡†å¤‡GitHubä»“åº“
ç¡®ä¿é¡¹ç›®åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š
- `requirements.txt`
- `deploy/render.yaml`ï¼ˆå·²åˆ›å»ºï¼‰

### æ­¥éª¤2ï¼šè¿æ¥Render
1. è®¿é—® [render.com](https://render.com)
2. æ³¨å†Œå¹¶è¿æ¥GitHubè´¦å·
3. ç‚¹å‡» "New" â†’ "Web Service"
4. é€‰æ‹©ä½ çš„GitHubä»“åº“

### æ­¥éª¤3ï¼šé…ç½®éƒ¨ç½²
- **Build Command**: `pip install -r requirements.txt`
- **Start Command**: `python app.py`
- **Environment**: `Python 3`

### æ­¥éª¤4ï¼šè®¾ç½®ç¯å¢ƒå˜é‡
```
FLASK_ENV=production
PYTHONUNBUFFERED=1
```

## ğŸ³ æ–¹æ¡ˆ3ï¼šDockeréƒ¨ç½²ï¼ˆVPSæœåŠ¡å™¨ï¼‰

### å‰ææ¡ä»¶
- ä¸€å°VPSæœåŠ¡å™¨ï¼ˆæ¨èé…ç½®ï¼š1GB RAM, 1 CPUï¼‰
- å·²å®‰è£…Dockerå’ŒDocker Compose

### æ­¥éª¤1ï¼šä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨
```bash
# ä½¿ç”¨gitå…‹éš†æˆ–ç›´æ¥ä¸Šä¼ 
git clone https://github.com/your-username/wonk-chatbot.git
cd wonk-chatbot
```

### æ­¥éª¤2ï¼šæ„å»ºå’Œå¯åŠ¨
```bash
# è¿›å…¥éƒ¨ç½²ç›®å½•
cd deploy

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### æ­¥éª¤3ï¼šé…ç½®åŸŸåï¼ˆå¯é€‰ï¼‰
1. è´­ä¹°åŸŸåå¹¶è§£æåˆ°æœåŠ¡å™¨IP
2. ä¿®æ”¹ `deploy/nginx.conf` ä¸­çš„åŸŸå
3. é…ç½®SSLè¯ä¹¦ï¼ˆLet's Encryptï¼‰

### æ­¥éª¤4ï¼šSSLè¯ä¹¦é…ç½®
```bash
# å®‰è£…certbot
sudo apt install certbot python3-certbot-nginx

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d your-domain.com

# é‡å¯æœåŠ¡
docker-compose restart
```

## ğŸ› ï¸ æ–¹æ¡ˆ4ï¼šä¼ ç»ŸVPSéƒ¨ç½²

### æ­¥éª¤1ï¼šæœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡
```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…Pythonå’Œå¿…è¦å·¥å…·
sudo apt install python3 python3-pip python3-venv nginx git -y
```

### æ­¥éª¤2ï¼šéƒ¨ç½²åº”ç”¨
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/wonk-chatbot.git
cd wonk-chatbot

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# åˆ›å»ºsystemdæœåŠ¡
sudo nano /etc/systemd/system/wonk-chatbot.service
```

### æ­¥éª¤3ï¼šåˆ›å»ºç³»ç»ŸæœåŠ¡
```ini
[Unit]
Description=Wonk Chatbot
After=network.target

[Service]
User=www-data
WorkingDirectory=/path/to/wonk-chatbot
Environment=PATH=/path/to/wonk-chatbot/venv/bin
Environment=FLASK_ENV=production
ExecStart=/path/to/wonk-chatbot/venv/bin/python app.py
Restart=always

[Install]
WantedBy=multi-user.target
```

### æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡
```bash
# å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡
sudo systemctl enable wonk-chatbot
sudo systemctl start wonk-chatbot

# æ£€æŸ¥çŠ¶æ€
sudo systemctl status wonk-chatbot
```

## ğŸ”’ å®‰å…¨é…ç½®

### 1. ä¿®æ”¹å¯†é’¥
åœ¨ `app.py` ä¸­ä¿®æ”¹ï¼š
```python
app.secret_key = 'your-super-secret-key-here'
```

### 2. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```
FLASK_SECRET_KEY=your-secret-key
FLASK_ENV=production
DATABASE_URL=sqlite:///data/database.db
```

### 3. é˜²ç«å¢™é…ç½®
```bash
# åªå¼€æ”¾å¿…è¦ç«¯å£
sudo ufw allow 22    # SSH
sudo ufw allow 80    # HTTP
sudo ufw allow 443   # HTTPS
sudo ufw enable
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### 1. æ—¥å¿—æŸ¥çœ‹
```bash
# Railway/Render: åœ¨æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—
# VPS: æŸ¥çœ‹systemdæ—¥å¿—
sudo journalctl -u wonk-chatbot -f
```

### 2. æ•°æ®åº“å¤‡ä»½
```bash
# å®šæœŸå¤‡ä»½æ•°æ®åº“
cp data/database.db backups/database_$(date +%Y%m%d).db
```

### 3. æ›´æ–°éƒ¨ç½²
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡å¯æœåŠ¡
sudo systemctl restart wonk-chatbot
```

## ğŸŒŸ æ¨èé…ç½®

### æ–°æ‰‹æ¨èï¼šRailway
- âœ… æœ€ç®€å•ï¼Œå‡ åˆ†é’Ÿå®Œæˆéƒ¨ç½²
- âœ… è‡ªåŠ¨HTTPS
- âœ… å…è´¹é¢åº¦è¶³å¤Ÿæµ‹è¯•ä½¿ç”¨
- âŒ å…è´¹ç‰ˆæœ‰ä½¿ç”¨é™åˆ¶

### ç”Ÿäº§æ¨èï¼šVPS + Docker
- âœ… å®Œå…¨æ§åˆ¶
- âœ… æˆæœ¬å¯æ§
- âœ… æ€§èƒ½ç¨³å®š
- âŒ éœ€è¦ä¸€å®šæŠ€æœ¯åŸºç¡€

## ğŸ”— è®¿é—®ä½ çš„èŠå¤©æœºå™¨äºº

éƒ¨ç½²å®Œæˆåï¼Œä½ å°†è·å¾—ä¸€ä¸ªç½‘å€ï¼Œä¾‹å¦‚ï¼š
- Railway: `https://wonk-chatbot-production.up.railway.app`
- Render: `https://wonk-chatbot.onrender.com`
- è‡ªå®šä¹‰åŸŸå: `https://your-domain.com`

ç°åœ¨ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªç½‘å€è®¿é—®ä½ çš„èŠå¤©æœºå™¨äººäº†ï¼ğŸ‰
