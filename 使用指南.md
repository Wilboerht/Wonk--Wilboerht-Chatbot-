# Wonk Chatbot 使用指南

## 🚀 快速启动

### 最简单的方式
1. 双击 `start_chatbot.bat` 文件
2. 等待启动完成（首次运行会自动安装依赖）
3. 在浏览器中访问 http://localhost:5000

### 如果启动脚本闪退
如果双击 `start_chatbot.bat` 后窗口立即关闭，请：

1. **使用调试版本**：双击 `start_chatbot_debug.bat` 查看详细错误信息
2. **或者手动启动**：
   - 按 `Win + R`，输入 `cmd`，按回车
   - 输入：`cd "C:\Users\hongk\Desktop\Wonk (Wilboerht Chatbot)"`
   - 输入：`start_chatbot.bat`
3. **检查Python安装**：确保已安装 Python 3.8+

### 手动启动
```bash
# 1. 打开命令行，导航到项目目录
cd "C:\Users\hongk\Desktop\Wonk (Wilboerht Chatbot)"

# 2. 激活虚拟环境
.venv\Scripts\activate

# 3. 启动应用
python app.py
```

## 💬 使用功能

### 基本聊天
- 在底部输入框输入消息
- 按回车或点击发送按钮
- 机器人会自动回复

### 会话管理
- **新对话**：点击左侧"新对话"按钮
- **切换对话**：点击左侧历史会话
- **删除对话**：鼠标悬停在会话上，点击垃圾桶图标

### 支持的对话类型
- 问候语：你好、hello、hi
- 告别语：再见、bye、拜拜
- 感谢语：谢谢、thank you
- 自我介绍：你是谁、介绍自己
- 时间查询：现在几点、时间
- 帮助信息：帮助、help、功能

## 🛠️ 管理工具

### 数据库管理
```bash
# 查看统计信息
python scripts/chat_db_manager.py stats

# 列出所有会话
python scripts/chat_db_manager.py list

# 查看特定会话消息
python scripts/chat_db_manager.py show <会话ID>

# 清理旧会话（30天前）
python scripts/chat_db_manager.py cleanup --days 30 --execute

# 导出数据
python scripts/chat_db_manager.py export backup.json
```

## 🔧 故障排除

### 常见问题

**问题1：无法启动**
- 检查虚拟环境是否存在：`.venv` 文件夹
- 重新运行 `setup.ps1` 初始化环境

**问题2：端口被占用**
- 关闭其他使用5000端口的程序
- 或修改 `app.py` 中的端口号

**问题3：数据库错误**
- 删除 `data/database.db` 文件，重新启动应用

**问题4：页面无法访问**
- 确认应用已启动（命令行显示运行信息）
- 检查防火墙设置
- 尝试访问 http://127.0.0.1:5000

### 重置应用
如果遇到严重问题，可以重置：
```bash
# 删除数据库文件
del data\database.db

# 重新启动应用
python app.py
```

## 📁 文件说明

- `start_chatbot.bat` - Windows批处理启动脚本
- `start_chatbot.ps1` - PowerShell启动脚本
- `app.py` - 主应用程序
- `data/database.db` - SQLite数据库文件
- `templates/index.html` - 网页模板
- `static/` - 静态资源（CSS、JS）

## 🔒 安全提醒

- 这是开发版本，仅适用于本地使用
- 不要在生产环境中使用
- 数据库文件包含聊天记录，请妥善保管

## 📞 技术支持

如果遇到问题：
1. 检查命令行输出的错误信息
2. 查看本使用指南的故障排除部分
3. 重新启动应用尝试解决

---

**享受与 Wonk 的聊天体验！** 🤖✨
